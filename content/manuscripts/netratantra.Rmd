---
title: Netratantra
sanskritTitle: अमृतेशतन्त्रम् 
transliteratedTitle: Amṛteśatantra (Netratantra)
englishTitle: The Tantra of the Lord of Immortality 
manuscriptLanguage: Sanskrit
script: Nandīnāgarī/Jainanāgarī
material: palm-leaf, 32.0cm x 5.5cm
condition: Complete, in good condition with few damaged folios
folios: 89
subject: Śākta-Śaiva tantra
physicalLocation: National Archives, Kathmandu (NAK MS 1-285, NGMPP Reel No. B 25/4)
originPlace: Nepal
provenance: Colour photos bought by Dr Bjarne Wernicke-Olesen from the NAK on 19.4.2018
approximateDating: 1200 CE
date: 2020-09-07
googlesheet: https://docs.google.com/spreadsheets/d/1vlDsR56bMSboS_HMtQSv2tJKdAZBZYsc7NBWizpoeH4/edit?usp=sharing
categories:
  - sanskrit
---

```{r setup, include=FALSE, message=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)
library(DT)
library(here)

photos_folder <- here("static", "manuscripts", "images", "netratantra", "compressed")

folder_name <- "netratantra/compressed/"

photo_info <- tibble(
   photoid = list.files(photos_folder),
   zoomid = str_c("result", photoid),
   photo_path = str_c("/manuscripts/images/", folder_name, list.files(photos_folder))
)

data_text <- read_csv(here("static", "manuscripts", "netratantra.csv")) %>% 
   mutate(photo = str_c(photo, ".JPG"))

```


```{r, include=FALSE}
create_content <- function(photoid, zoomid, photo_path) {
   # create row
   cat("<div class='row manuscript-photo-and-text'>")
   
   # create left column
   cat('<div class="col-sm-6">')
   
   cat('<div class="img-zoom-container">')
   cat(str_c('<img id="', photoid, '" src="', photo_path, '" width="450" height="300">'))
   cat(str_c('<div id="', zoomid, '" class="img-zoom-result"></div>'))
   cat('</div>') # close zoom container
   
   cat("</div>") # close column
   
   cat('<div class="col-sm-6">')
   
   current_table <- data_text %>% 
      filter(photo == photoid) %>% 
      select(-photo, -verse)
   
   print( htmltools::tagList(datatable(current_table,
                                       rownames = FALSE, 
                                       escape = FALSE, 
                                       class = "row-border")) )
     
   cat("</div>") # close column

   cat("</div>") # close row
}

initiate_zoom_effect <- function(photo_info_tibble) {
   # create row
   cat('<script>\n')
   
   map2(photo_info_tibble$photoid, photo_info_tibble$zoomid, 
        ~cat(str_c('imageZoom("', .x, '", "', .y, '");\n')))
   
   cat('</script>')
}

```

```{r, results='asis'}
pwalk(photo_info, create_content)
cat('\n')
initiate_zoom_effect(photo_info)
```
